<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='icon' href='https://www.wiicart.net/img/namecolor-favicon.png' type='image/x-icon'/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A Minecraft NameColor plugin with RGB support">
    <meta name="keywords" content="RGB, Name, Java, Spigot, Paper, NameColor, 1.20, 1.21, 1.22, 1.23. 1.24, Color, Plugin, Bukkit, HEX">
    <title>NameColor | Command Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <style>
        .display-2 {
            text-align: center;
            text-decoration-color: whitesmoke;
        }
        body {
            background: rgb(62, 103, 224);
            background: linear-gradient(90deg, rgba(62, 103, 224, 1) 0%, rgba(224, 52, 52, 0.9850315126050421) 100%, rgba(32, 110, 5, 0.9822303921568627) 100%);
            min-height: 100vh; /* Ensure body takes at least full viewport height */
            margin: 0;
            padding-bottom: 60px; /* Adjust padding to accommodate footer height */
            position: relative;
            height: 100%;
        }
        ul {
            display: inline-block;
            text-align: left;
        }
        .nav-item {
            font-size: 150%;
        }
        footer {
            width: 100%;
            background-color: #343a40; /* Adjust background color as needed */
            color: white;
            text-align: center;
            padding: 10px 0; /* Add padding for better spacing */
            position: absolute;
            bottom: 0;
        }
        .footerhref {
            color: white;
            text-decoration: none;
        }
        .display-4 {
            margin-top: 2%;
            text-align: center;
        }
        .btn{
            background-color: transparent;
        }
        .white-icon{
            color: white;
        }
        .btn-group2{
            margin-left: 2%;
        }
        .btn-toolbar{
            margin-bottom: 2%;
        }
    </style>
</head>
<body>
    <h1 class="display-2 text-white bg-dark" style="margin-bottom: 0%;">Name Color</h1>
    <ul class="nav justify-content-center navbar-dark bg-dark">
        <li class="nav-item">
            <a class="nav-link text-white" href="https://wiicart.net/namecolor.html">Home</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" href="https://wiicart.net/namecolor/help.html">Help</a>
        </li>
        <li class="nav-item active">
            <a class="nav-link text-white" href="#">Downloads</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" href="https://github.com/Wiicart/PedestriaNameColor">GitHub</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-white" href="https://bstats.org/plugin/bukkit/NameColors/22112">bStats</a>
        </li>
    </ul>
    <h3 class="display-4 text-white">Command Builder</h3>
    <div class="container">
        <div class="card text-white bg-dark mb-3" style="max-width: 75%;">
            <div class="card-header"><h4>/nick</h4></div>
            <div class="card-body">
                <p class="card-text">Build your /nick command!</p>
                <p class="card-text">Apply the styles and colors you want with your nickname in the first box.</p>
                <p class="card-text">To reset the styles so you can use different ones, click on the "x" symbol.</p>
                <p class="card-text">*The reset button will not reset your command, rather styles in-line.</p>
                <div class="btn-toolbar" role="toolbar" aria-label="Text styles">
                    <div class="btn-group mr-2" role="group" aria-label="syling">
                        <button type="button" id="color-button" class="btn btn-light white-icon"><i class="bi bi-brush"></i></i></button>
                        <button type="button" id="bold-button" class="btn btn-light white-icon"><i class="bi bi-type-bold h6"></i></button>
                        <button type="button" id="italic-button" class="btn btn-light white-icon"><i class="bi bi-type-italic h6"></i></button>
                        <button type="button" id="underline-button" class="btn btn-light white-icon"><i class="bi bi-type-underline h6"></i></button>
                        <button type="button" id="strike-button" class="btn btn-light white-icon"><i class="bi bi-type-strikethrough h6"></i></button>
                        <button type="button" id="reset-button" class="btn btn-light white-icon"><i class="bi bi-x-octagon h6"></i></button>
                    </div>
                    <div class="btn-group btn-group2 mr-2" role="group" aria-label="color picker">
                        <input type="color" class="form-control form-control-color textC" id="colorPicker" value="#CCCCCC" title="Text Color" style="border-radius: 0; background-color: transparent;">
                        <!-- <button type="button" id="color-button" class="btn btn-light white-icon"><i class="bi bi-palette h6"></i></i></button> -->
                    </div>
                </div>
                <input type="text" class="form-control" id="nameInput" placeholder="Name" style="margin-bottom: 2%;">
                <div id="formattedOutput" class="form-control" style="margin-bottom: 2%;"><p style="margin-bottom: 0%;" class=".text-muted">&nbsp;</p></div> <!-- Output container -->
                <input class="form-control" type="text" id="commandText" placeholder="&nbsp;" style="margin-bottom: 2%;" readonly>
            </div>
        </div>
    </div>

    
    <footer class="footer bg-dark">
        <h3 style="color:white; font-size: 100%; margin-top: 1%;">NameColor by wiicart</h3>
        <h3 style="color:white; font-size: 100%;"><a href="https://wiicart.net" class="footerhref">wiicart.net</a> | <a href="https://github.com/Wiicart" class="footerhref">GitHub</a> | <a href="https://www.spigotmc.org/members/wiicart.811724/" class="footerhref">Spigot</a></h3>
        <h3 style="color:white; font-size: 100%;">â“’ wiicart 2024</h3>
    </footer>
    <script type="text/javascript">
        document.getElementById("bold-button").onclick = function() {
            bold();
        };
        document.getElementById("italic-button").onclick = function() {
            italic();
        };
        document.getElementById("underline-button").onclick = function() {
            underline();
        };
        document.getElementById("strike-button").onclick = function() {
            strike();
        };
        document.getElementById("reset-button").onclick = function() {
            reset();
        };
        document.getElementById("color-button").onclick = function() {
            color();
        };
        function bold() {
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            nameInput.value = currentValue + "&l";
            applyFormatting();
        }
        function italic() {
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            nameInput.value = currentValue + "&o";
            applyFormatting();
        }
        function underline() {
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            nameInput.value = currentValue + "&n";
            applyFormatting();
        }
        function strike() {
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            nameInput.value = currentValue + "&m";
            applyFormatting();
        }
        function reset() {
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            nameInput.value = currentValue + "&r";
            applyFormatting();
        }
        function color(){
            var nameInput = document.getElementById("nameInput");
            var currentValue = nameInput.value;
            var color = "&#" + document.getElementById("colorPicker").value.substr(1);
            nameInput.value = currentValue + color;
            applyFormatting();
        }
        function applyFormatting() {
    const colorCodePattern = /&#([0-9a-fA-F]{6})/g;
    var nameInput = document.getElementById("nameInput");
    var currentValue = nameInput.value;
    let stringList = currentValue.split("&r");
    let finalText = "";

    for (let i = 0; i < stringList.length; i++) {
        // Process styles
        let style = "style='";
        let segment = stringList[i];

        if (segment.includes("&l")) {
            segment = segment.replace(/&l/g, "");
            style += "font-weight: bold; ";
        }
        if (segment.includes("&o")) {
            segment = segment.replace(/&o/g, "");
            style += "font-style: italic; ";
        }
        if (segment.includes("&n")) {
            segment = segment.replace(/&n/g, "");
            style += "text-decoration: underline; ";
        }
        if (segment.includes("&m")) {
            segment = segment.replace(/&m/g, "");
            if (style.includes("text-decoration:")) {
                style = style.replace("text-decoration:", "text-decoration: line-through, ");
            } else {
                style += "text-decoration: line-through; ";
            }
        }
        style += "'>";

        // Process colors
        let finalRound = "";
        let secondList = segment.split(colorCodePattern);

        for (let v = 0; v < secondList.length; v++) {
            let innerStyle = "style='";
            let rawText = secondList[v];

            if (colorCodePattern.test(secondList[v])) {
                let hex = secondList[v].match(colorCodePattern)[0];
                hex = hex.replace("&#", "");
                innerStyle += "color: #" + hex + "!important; ";
                rawText = secondList[v].replace(colorCodePattern, "");
            }

            innerStyle += "'>";
            finalRound += "<span " + innerStyle + ">" + rawText + "</span>";
        }

        finalText += "<span " + style + ">" + finalRound + "</span>";
    }

    document.getElementById("formattedOutput").innerHTML = finalText;
}


    </script>
</body>
</html>

